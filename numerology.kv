#-*-coding:utf8;-*-
#:	import Factory kivy.factory.Factory
#:import random random.random


<GridButton@Button>:
    on_press: root.controller.gridButtonPress(self)
    on_release: root.controller.gridButtonRelease(self)
    
<Controller>:
    orientation: 'vertical'
    
    #define needed conlrols' ids
    t_name: t_name
    t_date: t_date
    

    
    ScreenManager:
        id: sm

        Screen:
            name: 'dataInputScreen'
            #hue: random()
            canvas:
                Color:
                    hsv: random(), .5, .3
                Rectangle:
                    pos: self.pos
                    size: self.size
            
            BoxLayout:
                orientation: 'vertical'
                columns: 1
                padding: '5dp'
                spacing: 5 
                
                Button:
                    size_hint: None, None
                    size: '150dp', '48dp'
                    text: 'Архив ...'
                    on_release: root.on_archive() 

                
                Label:
                    #size_hint_y: None
                    #height: '50dp'
                    text: '[b]Нова карта[b]'
                    font_size: '64dp'
                    markup: 'True'
                    
                Label:
                    halign: 'left'
                    text:'Име:'
                
                TextInput:
                    size_hint_y: None
                    height: '32dp'
                    multiline: False
                    text: ''
                    id: t_name
                
                BoxLayout:
                    orientation: 'horizontal'
                    
                    CheckBox:
                        group: 'g_gender'
                        on_release: root.g_type = 'male'
                        active: True if root.g_type == 'male' else False
                    Label:
                        text: 'Мъж'

                    CheckBox:
                        group: 'g_gender' 
                        on_release: root.g_type = 'female'
                        active: True if root.g_type == 'female' else False
                    Label:
                        text: 'Жена'
                        
                    CheckBox:
                        group: 'g_gender'
                        on_release: root.g_type = 'event'
                        active: True if root.g_type == 'event' else False
                    Label:
                        text: 'Случай'
                        
                Label:
                    text:'Дата:'
                
                TextInput:
                    size_hint_y: None
                    height: '32dp'
                    multiline: False
                    text: ''
                    id: t_date

                Button:
                    size_hint: None, None
                    size: '150dp', '48dp'
                    text: 'Към картата'
                    on_release: 
                        sm.transition.direction = 'left'
                        sm.current = 'cardScreen'

        
        
        
        
        Screen:
            name: 'cardScreen'
            
            BoxLayout:
                orientation: 'vertical'
                
                Label:
                    text:'[b]' + t_name.text + '[b]'
                    size_hint: 1, 1/12.0
                    font_size: '32dp'
                    markup: 'True' 
                
                BoxLayout:
                    orientation: 'horizontal'              
                    size_hint: 1, 1/9.0
                    
                    
                    GridButton:
                        text:'21'
                        name: 'date_number' 
                        id: date_number
                        size_hint: 0.1, 1
                    Label:
                        text: '21111985 = 28 = 10\n                       -2\n                      26 = 8'
                        id: cardStr_label
                        size_hint: 0.8, 1
                    GridButton:
                        text: '10' 
                        name: 'personal_number' 
                        id: personal_number
                        size_hint: 0.1, 1
                
                GridLayout:
                    #size_hint: 1, 7/9.0
                    rows: 5
                    cols: 5
                    spacing: 5
                    padding: 5
                    
                    # start row 1
                        
                    GridButton:
                        text: '?'
                        name: 'GB1'
                        id: GB1
                        
                    GridButton:
                        text: '|\nV'
                        name: 'self_col'
                        id: self_col
                        
                    GridButton:
                        text: '|\nV'
                        name: 'others_col'
                        id: others_col
                        
                    GridButton:
                        text: '|\nV'
                        name: 'higherself_col'
                        id: higherself_col
                        
                    GridButton:
                        text: "_\n/'"
                        name: 'emotional_diag'
                        id: emotional_diag
                    
                    #
                    # row 2 start
                    # 
                        
                    GridButton:
                        text: '?'
                        name: 'GB6'
                        id: GB6
                        
                    GridButton:
                        text: '1'
                        name: 'one'
                        id: one
                        
                    GridButton:
                        text: '4'
                        name: 'four'
                        id: four
                        
                    GridButton:
                        text: '7'
                        name: 'seven'
                        id: seven
                        
                    GridButton:
                        text: '?'
                        name: 'GB10'
                        id: GB10
                        
                    #
                    # start row 3
                    # 
                    
                    GridButton:
                        text: '?'
                        name: 'GB11'
                        id: GB11
                        
                    GridButton:
                        text: '2'
                        name: 'two'
                        id: two
                        
                    GridButton:
                        text: '5'
                        name: 'five'
                        id: five
                        
                    GridButton:
                        text: '8'
                        name: 'eight'
                        id: eight
                        
                    GridButton:
                        text: '?'
                        name: 'GB15'
                        id: GB15
                        
                    #
                    # start row 4
                    # 
                    
                    GridButton:
                        text: '?'
                        name: 'GB16'
                        id: GB16
                        
                    GridButton:
                        text: '3'
                        name: 'three'
                        id: three
                        
                    GridButton:
                        text: '6'
                        name: 'six'
                        id: six
                        
                    GridButton:
                        text: '99'
                        name: 'nine'
                        id: nine
                        
                    GridButton:
                        text: '?'
                        name: 'GB20'
                        id: GB20
                        
                    #
                    # start row 5
                    # 
                    
                    GridButton:
                        text: '?'
                        name: 'GB21'
                        id: GB21
                        
                    GridButton:
                        text: '? '
                        name: 'none'
                        id: none
                        
                    GridButton:
                        text: ''
                        name: 'nfour'
                        id: nfour
                        
                    GridButton:
                        text: ''
                        name: 'nseven'
                        id: nseven
                        
                    GridButton:
                        text: '?'
                        name: 'GB25'
                        id: GB25
                    
                    
                Button:
                    #size_hint: None, None
                    size_hint: 1, 1/9.0
                    #size: '150dp', '48dp'
                    text: 'Нова карта'
                    on_release: 
                        sm.transition.direction = 'right'
                        sm.current = 'dataInputScreen'
